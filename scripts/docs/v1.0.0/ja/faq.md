---
title: FAQ
description: コミュニティからのよくある質問
sort: 2
---

# FAQ

### 1. 仮想 DOM なしの JSX？ ベーパーウェア（概念だけで実態のないソフト）ですか？ 他のフレームワークの作者がこれは不可能だと言っているような有名な声を聞いたことがあります。

React の更新モデルを持っていなければ可能です。JSX は他のテンプレート DSL と同じです。特定の方法ではより柔軟性があります。任意の JavaScript を挿入するのは難しい場合もありますが、スプレッド演算子をサポートするのと変わりません。つまり、これはベーパーウェアではなく、最もパフォーマンスが高いことが証明されているアプローチなのです。

本当のメリットは、拡張性の高さにあります。コンパイラが最適なネイティブ DOM 更新を提供してくれますが、React のようなライブラリの自由度が高く、Render Props や Higher Order Components などのテクニックを使ったコンポーネントを、リアクティブな「フック」と一緒に書くことができます。Solid の制御フローがどのように機能するかが気に入らない？ 自分で書きましょう。

### 2. Solid どれほどパフォーマンスが優れていますか？

何か 1 つを挙げることができればいいのですが、実際には多くの重要な設計上の決定が組み合わされています。

1. 明示的なリアクティビティにより、リアクティブであるべきものだけを追跡します。
2. 初期生成を考慮してコンパイルする。Solid はヒューリスティックな手法を用いて粒度を緩め、計算回数を減らす一方で、重要な更新は粒度とパフォーマンスを維持しています。
3. リアクティブな式は単なる関数です。これにより、不要なラッパーや同期のオーバーヘッドを取り除いた遅延 props 評価による「消えるコンポーネント」が可能になります。

これらは現在のところ、Solid が競合に対して優位に立つための組み合わせであり、独特な技術です。

### 3. React との互換性はありますか？

いいえ、これからもならないでしょう。API は似ていて、コンポーネントは小さな編集で移動できることが多いのですが、更新モデルは根本的に異なります。React コンポーネントは何度もレンダリングされるため、Hooks 以外のコードは非常に異なって動作します。クロージャやフックのルールは不要なだけでなく、ここでは動作しない方法で使用できます。

一方で、Vue 互換は可能でしょう。現在のところ実装の予定はありませんが。

### 4. なぜ分割代入が動作しないのですか？ コンポーネント全体を関数でラップすれば解決できることに気づきました。

リアクティビティは Prop と Store オブジェクトのプロパティアクセスで発生します。バインディングやリアクティブな計算の外でそれらを参照しても追跡されません。これらの内部では分割代入は全く問題ありません。

しかし、コンポーネント全体を関数でラップすることは、無責任に行うべきではありません。Solid には仮想 DOM がありません。そのため、追跡された変更は、関数全体を再度実行し、すべてを再作成することになります。これはやめておきましょう。

### 5. クラスコンポーネントのサポートを追加してくれますか？ ライフサイクルの方が推論しやすいと思います。

クラスコンポーネントをサポートすることは意図していません。Solid のライフサイクルは、リアクティブシステムのスケジューリングに結びついており、人為的なものです。クラスを作ることはできますが、事実上、イベントハンドラ以外のコードは render 関数を含め、基本的にコンストラクタで実行されます。これは、データの粒度を小さくするための言い訳のための構文に過ぎません。

ライフサイクルではなく、データとその振る舞いをまとめてください。これは何十年にもわたって機能してきたリアクティブなベストプラクティスです。

### 6. 私は JSX がとても嫌いなのですが、テンプレート DSL の可能性はありますか？ あ、タグ付きテンプレートリテラル/HyperScript があるんですね。使ってみようかな……。

やめてください。ここでやめておきましょう。Svelte がテンプレートを使って最適化された DOM 命令を作成するのと同じように、私たちは JSX を使っています。タグ付きテンプレートリテラルや HyperScript のソリューションは、それ自体はとても素晴らしいものかもしれませんが、ビルド不可の要件のような現実的な理由がない限りあらゆる面で劣っています。バンドルが大きくなり、パフォーマンスが低下し、値のラップを手動で行う必要があります。

選択肢があるのは良いことですが、Solid の JSX はここでは本当に最適なソリューションです。テンプレート DSL も制限が多いとはいえ素晴らしいですが、JSX は無料で多くのことを提供してくれます。TypeScript、既存のパーサー、シンタックスハイライト、TypeScript、Prettier、コード補完、そして最後に欠かせないのが TypeScript です。

他のライブラリもこれらの機能のサポートを追加してきましたが、それは膨大な努力を必要とし、まだ不完全で、常にメンテナンスに頭を悩ませています。これは本当に現実的なスタンスを取っています。

### 7. Signal と Store はどのような場合に使用するのですか？ なぜこれらは違うのですか？

Store はネストされた値を自動的にラップするので、深いデータ構造やモデルのようなものに最適です。それ以外のほとんどの用途では、Signal は軽量で、素晴らしい働きをします。

これらを 1 つのものとしてまとめたいところですが、プリミティブをプロキシすることはできません。関数は最もシンプルなインターフェイスで、あらゆるリアクティブな式（状態のアクセスを含む）をトランスポート上で 1 つにまとめることができるため、ユニバーサルな API を提供します。Signal や状態に好きな名前をつけることができ、最小限の機能にとどめることができます。エンドユーザーに `.get()` `.set()` の入力を強要したり、さらに悪いことに `.value` の入力を強要したりすることは絶対に避けたいことです。少なくとも、前者は簡潔にするためにエイリアスを付けることができますが、後者は関数を呼び出すための最も簡潔な方法に過ぎません。

### 8. Vue のように Solid の Store に値を割り当てることができないのはなぜですか。 Svelte、または MobX？ 双方向バインディングはどこにありますか？

リアクティビティは強力なツールですが、同時に危険なツールでもあります。MobX はこのことを理解していて、Strict モードと Actions を導入して、更新が発生する場所や時間を制限しています。データのコンポーネントツリー全体を扱う Solid では、React から何かを学べることが明らかになりました。同じ契約を持つための手段を提供する限り、実際に不変である必要はありません。

状態を更新する能力を渡せるかどうかは、状態を渡すかどうかを決めるよりも間違いなく重要です。だから、それを分離できることは重要であり、読み取りが不変である場合にのみ可能です。また、細かく更新できるのであれば、不変性のコストを払う必要はありません。幸いなことに、ImmutableJS と Immer の間には大量の先行技術があります。皮肉なことに、Solid は可変の内部と不変のインターフェイスを持つ逆 Immer のように振る舞います。

### 9. Solid のリアクティビティを単体で使うことはできますか？

もちろんです。単体のパッケージは提供していませんが、コンパイラなしの Solid をインストールし、リアクティブプリミティブを使用することは簡単です。きめ細かいリアクティビティの利点の 1 つは、ライブラリに依存しないことです。それどころか、ほとんどすべてのリアクティブライブラリがこの方法で動作します。それが [Solid](https://github.com/solidjs/solid) に影響を与えたものであり、その基礎となる [DOM Expressions library](https://github.com/ryansolid/dom-expressions) が純粋にリアクティブシステムからレンダラーを作るきっかけとなりました。

試しにいくつか挙げてみましょう: [Solid](https://github.com/solidjs/solid)、[MobX](https://github.com/mobxjs/mobx)、[Knockout](https://github.com/knockout/knockout)、[Svelte](https://github.com/sveltejs/svelte)、[S.js](https://github.com/adamhaile/S)、[CellX](https://github.com/Riim/cellx)、[Derivable](https://github.com/ds300/derivablejs)、[Sinuous](https://github.com/luwes/sinuous)、そして最近では [Vue](https://github.com/vuejs/vue) などです。リアクティブなライブラリを作るには、例えば [lit-html](https://github.com/Polymer/lit-html) のようにレンダラーにタグ付けするよりもはるかに多くのことが必要ですが、感触をつかむには良い方法です。

### 10. Solid には、Next.js や Material Components のようなライブラリはありますか？

私たちの知る限りありません。もしライブラリ構築に興味があれば、[Discord](https://discord.com/invite/solidjs) ですぐに構築のお手伝いをいたします。基本的なものは揃っているので、あとはそれをベースにしていくだけです。
